# Story 3.5: Multi-program support

## Status
**Draft**

## Story
**As a** user, **I want** to have multiple active programs simultaneously, **so that** I can experiment with different protocols in parallel.

## Acceptance Criteria
1. Bruker kan starte flere programmer samtidig (ingen begrensning)
2. Dashboard viser ALLE aktive programmer: Liste med hver sitt progresjonsstatus
3. Ved valg av økt (Epic 4), bruker velger hvilket program økten tilhører
4. Når bruker logger en økt (Epic 5), må de velge/bekrefte hvilket program det er (dropdown eller auto-deteksjon)
5. Progresjon trackes SEPARAT per program (ikke blandet)
6. Bruker kan pause/stoppe ett program uten å påvirke andre: "Pause program"-knapp, Status endres til 'paused'

## Tasks / Subtasks
- [ ] Update DashboardScreen to display multiple active programs
- [ ] Create program selector in session planning (Epic 4)
- [ ] Add program context to active session (Epic 5)
- [ ] Add "Pause program" action in ProgramDetailScreen
- [ ] Update user_programs status to 'paused' or 'active'
- [ ] Filter active programs: `WHERE status = 'active'`
- [ ] Test with 2-3 concurrent active programs

## Dev Notes
**Database:** user_programs table already supports multiple programs (no unique constraint on user_id + program_id).

**Dashboard Query:**
```sql
SELECT p.*, up.started_at, up.status
FROM user_programs up
JOIN programs p ON p.id = up.program_id
WHERE up.user_id = ? AND up.status = 'active'
ORDER BY up.started_at DESC;
```

**Pause Action:**
```sql
UPDATE user_programs SET status = 'paused' WHERE id = ?;
```

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-23 | 1.0 | Initial story | Bob (SM) |

## Dev Agent Record
*To be filled*

## QA Results
*To be filled*
