# Story 7.1: Se fullført økt

## Status
**Draft**

## Story
**As a** user, **I want** to see a summary of a completed session (timeline with intake and discomfort), **so that** I can review what happened.

## Acceptance Criteria
1. Fullførte økter vises på dashboard (liste) med dato, varighet, program, antall inntak/ubehag, status ikon
2. Trykk på økt → Gå til økt-detaljskjerm
3. Økt-detaljskjerm viser: Header (dato, varighet, program, status), Tidslinje (scrollable list of events), Oppsummering (total karbs, rate, ubehag)
4. Knapp: "Se graf" → Story 7.2
5. Knapp: "Legg til notater" → Fritekst

## Tasks / Subtasks
- [ ] Create `src/screens/analysis/SessionDetailScreen.tsx`
- [ ] Create `src/components/session/SessionTimeline.tsx`
- [ ] Load session_logs + session_events via SessionRepository
- [ ] Display chronological timeline of events
- [ ] Calculate summary stats (total carbs, avg rate, discomfort count)
- [ ] Add "Se graf" and "Legg til notater" buttons
- [ ] Test with completed session data

## Dev Notes
**Query:**
```sql
SELECT sl.*, se.* 
FROM session_logs sl
LEFT JOIN session_events se ON se.session_log_id = sl.id
WHERE sl.id = ? AND sl.session_status = 'completed'
ORDER BY se.timestamp_offset_seconds;
```

**Timeline Component:**
```typescript
<SessionTimeline>
  <TimelineItem time="00:00" icon="play" text="Start" />
  <TimelineItem time="00:25" icon="check" text="Maurten Gel (25g)" />
  <TimelineItem time="01:05" icon="alert" text="Ubehag (3/5) - Kvalme" />
  <TimelineItem time="01:23" icon="stop" text="Slutt" />
</SessionTimeline>
```

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-23 | 1.0 | Initial story | Bob (SM) |

## Dev Agent Record
*To be filled*

## QA Results
*To be filled*
