# Story 3.4: Progresjonsoversikt per program

## Status
**Draft**

## Story
**As a** user, **I want** to see my progression for each program, **so that** I stay motivated and see my progress.

## Acceptance Criteria
1. PÃ¥ program-detaljskjerm vises progresjonsinformasjon: Progress bar, Tekst "Uke 2 av 4", Ã˜kter "3 av 8 Ã¸kter fullfÃ¸rt"
2. Progress bar oppdateres basert pÃ¥ fullfÃ¸rte Ã¸kter (grÃ¸nn/grÃ¥)
3. Hver Ã¸kt i listen har status-ikon: âœ… FullfÃ¸rt, â³ Planlagt, â—‹ Ikke gjort
4. FullfÃ¸rte Ã¸kter vises med dato ("FullfÃ¸rt 23. okt")
5. Hvis program fullfÃ¸rt (100%): Badge/medal, Tekst "ðŸŽ‰ Program fullfÃ¸rt!", Knapp: "Se resultater" (gÃ¥r til Epic 7)

## Tasks / Subtasks
- [ ] Create `src/components/program/ProgressBar.tsx`
- [ ] Calculate progress: `completedSessions / totalSessions * 100`
- [ ] Calculate current week: `Math.ceil(completedSessions / sessionsPerWeek)`
- [ ] Add status icons to SessionCard component
- [ ] Show completion date for finished sessions
- [ ] Show completion badge when 100%
- [ ] Link "Se resultater" to Epic 7 progression graph

## Dev Notes
**Calculation:**
```typescript
const totalSessions = programSessions.length;
const completedSessions = sessionLogs.filter(s => s.session_status === 'completed').length;
const progressPercent = (completedSessions / totalSessions) * 100;
const currentWeek = Math.ceil(completedSessions / (totalSessions / program.duration_weeks));
```

**Query:**
```sql
SELECT COUNT(*) as completed_count
FROM session_logs sl
JOIN planned_sessions ps ON ps.id = sl.planned_session_id
JOIN program_sessions prs ON prs.id = ps.program_session_id
WHERE prs.program_id = ? AND sl.session_status = 'completed';
```

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-23 | 1.0 | Initial story | Bob (SM) |

## Dev Agent Record
*To be filled*

## QA Results
*To be filled*
